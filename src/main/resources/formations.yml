# ----------------------------------------------------
#  Tệp cấu hình Trận Pháp cho plugin TuTienTranPhap
# ----------------------------------------------------
#
# === DANH SÁCH CÁC HIỆU ỨNG (type) ===
#
# --- Tác động lên Thực thể ---
# - POTION:     Áp dụng hiệu ứng thuốc. (Cần `potion_effect`, `target`, `value`)
# - DAMAGE:     Gây sát thương. (Cần `target`, `value`)
# - HEAL:       Hồi máu. (Cần `target`, `value`)
# - LIGHTNING:  Đánh sét. (Cần `target`, `visual_only`)
# - REPEL:      Đẩy lùi quái. (Cần `value`)
# - ROOT:       Giữ chân. (Cần `target`, `duration`, `value`)
# - CLEANSE:    Tẩy rửa hiệu ứng xấu. (Cần `target`)
# - VORTEX:     Hút quái vật. (Cần `target`, `value`)
# - BREED:      Tự động nhân giống. (Cần `value` làm cooldown)
# - STASIS:     Làm chậm thực thể và vật thể bay. (Cần `value`)
# - EXPLOSION:  Gây nổ (không phá khối, luôn có lửa). (Cần `target`, `value`)
# - IGNITE:     Đốt cháy mục tiêu. (Cần `target`, `duration`)
# - BARRIER:    Tạo rào cản vô hình. (Cần `target`, `value`)
# - DEVOLVE:    Làm thoái hóa (biến động vật lớn thành bé, giảm size slime,...)
#
# --- Tiện ích & Kinh tế ---
# - REPAIR:     Sửa chữa vật phẩm. (Cần `target`, `value`)
# - XP:         Tạo kinh nghiệm. (Cần `value`)
# - COLLECT:    Hút vật phẩm. (Cần `value` làm tốc độ)
#
# --- Tương tác Môi trường ---
# - SMELT:      Tăng tốc lò nung. (Cần `value`)
# - GROWTH:     Tăng tốc cây trồng. (Cần `value`)
# - HARVEST:    Tự động thu hoạch. (Cần `replant`)
# - FREEZE:     Đóng băng chất lỏng.
# - SANCTUARY:  Ngăn quái sinh ra tự nhiên.
# - CLIMATE:    Tạo thời tiết giả lập cục bộ. (Cần `mode`: RAIN, SNOW, THUNDER, ACID_RAIN, DROUGHT)
#
# ----------------------------------------------------

# --- DANH SÁCH CÁC TRẬN PHÁP GỐC ---

kim-cang-tran:
    display_name: "&e&lKim Cang Hộ Thể Trận"
    activation_item: "NETHERITE_INGOT"
    duration: "30m"
    radius: 20
    pattern:
        key:
            X: "OBSIDIAN"
            P: "CHISELED_QUARTZ_BLOCK"
        shape:
            - "PPPPP"
            - "P   P"
            - "P X P"
            - "P   P"
            - "PPPPP"
    particles:
        ring: "TOTEM_OF_UNDYING"
        pillar: "FLAME"
        dome: "CRIT"
    effects:
        - type: "POTION"
          target: "PLAYERS"
          potion_effect: "DAMAGE_RESISTANCE"
          value: 1
        - type: "POTION"
          target: "HOSTILE_MOBS"
          potion_effect: "WEAKNESS"
          value: 1

thoi-ma-tran:
    display_name: "&b&lThối Ma Trận"
    activation_item: "HEART_OF_THE_SEA"
    duration: "1h"
    radius: 25
    pattern:
        key:
            X: "CONDUIT"
            P: "PRISMARINE_BRICKS"
        shape:
            - " PPP "
            - "P   P"
            - "P X P"
            - "P   P"
            - " PPP "
    particles:
        ring: "SQUID_INK"
        pillar: "BUBBLE_COLUMN_UP"
        dome: "NAUTILUS"
    effects:
        - type: "REPEL"
          value: 1.2

hoa-luyen-tran:
    display_name: "&6&lHỏa Luyện Trận"
    activation_item: "BLAZE_ROD"
    duration: "2h"
    radius: 8
    pattern:
        key:
            X: "BLAST_FURNACE"
            P: "MAGMA_BLOCK"
        shape:
            - " P "
            - "PXP"
            - " P "
    particles:
        orb: "LAVA"
    effects:
        - type: "SMELT"
          value: 3.0

sinh-truong-tran:
    display_name: "&2&lSinh Trưởng Trận"
    activation_item: "BONE_MEAL"
    duration: "2h"
    radius: 16
    pattern:
        key:
            X: "COMPOSTER"
            P: "MOSS_BLOCK"
            W: "OAK_LOG"
        shape:
            - " WWW "
            - "W P W"
            - "WPXPW"
            - "W P W"
            - " WWW "
    particles:
        ring: "COMPOSTER"
        dome: "SPORE_BLOSSOM_AIR"
    effects:
        - type: "GROWTH"
        - type: "HARVEST"
          replant: true
        - type: "BREED"
          value: 200

lao-nguc-tran:
    display_name: "&8&lLao Ngục Trận"
    activation_item: "IRON_BARS"
    duration: "10m"
    radius: 15
    pattern:
        key:
            X: "OBSIDIAN"
            P: "IRON_BARS"
            C: "CHAIN"
        shape:
            - " CPC "
            - "P   P"
            - "C X C"
            - "P   P"
            - " CPC "
    particles:
        ring: "SQUID_INK"
        dome: "CRIT_MAGIC"
    effects:
        - type: "BARRIER"
          target: "ALL"
          value: 1.5 # Tăng lực đẩy để khó thoát hơn
        - type: "POTION"
          target: "ALL"
          potion_effect: "SLOW"
          value: 1

# ----------------------------------------------------
# --- CÁC TRẬN PHÁP MỚI VỚI HIỆU ỨNG HẠT NÂNG CAO ---
# ----------------------------------------------------

thanh-quang-tran:
    display_name: "&a&lThánh Quang Tẩy Tễ Trận"
    activation_item: "GOLD_BLOCK"
    duration: "20m"
    radius: 25
    pattern:
        key:
            X: "BEACON"
            P: "QUARTZ_BLOCK"
            G: "GOLD_BLOCK"
        shape:
            - " GPG "
            - "P   P"
            - "G X G"
            - "P   P"
            - " GPG "
    particles:
        rotation_speed: 1.0 # Tốc độ quay của các vòng hạt
        pillar_count: 4      # Số cột hạt
        ring: "TOTEM_OF_UNDYING"
        pillar: "VILLAGER_HAPPY"
        dome: "END_ROD"
    effects:
        - type: "HEAL"
          target: "PLAYERS"
          value: 1 # Hồi 1 máu (nửa trái tim) mỗi giây
        - type: "CLEANSE"
          target: "PLAYERS"
        - type: "POTION"
          target: "PLAYERS"
          potion_effect: "REGENERATION"
          value: 0
        - type: "SANCTUARY"

hu-thuc-tran:
    display_name: "&8&lHủ Thực Ma Trận"
    activation_item: "WITHER_SKELETON_SKULL"
    duration: "15m"
    radius: 20
    pattern:
        key:
            X: "SOUL_SAND"
            P: "POLISHED_BLACKSTONE_BRICKS"
            C: "CRYING_OBSIDIAN"
        shape:
            - " CPC "
            - "C   C"
            - "P X P"
            - "C   C"
            - " CPC "
    particles:
        rotation_speed: 2.5
        ring: "SQUID_INK"
        orb: "DRAGON_BREATH"
        pillar: "SOUL_FIRE_FLAME"
    effects:
        - type: "POTION"
          target: "HOSTILE_MOBS"
          potion_effect: "WITHER"
          value: 0 # Wither I
        - type: "POTION"
          target: "PLAYERS" # Cũng ảnh hưởng người chơi nếu đứng trong
          potion_effect: "HUNGER"
          value: 0
        - type: "DEVOLVE"
          value: 1

bang-phong-tran:
    display_name: "&b&lBăng Phong Cấm Cố Trận"
    activation_item: "BLUE_ICE"
    duration: "10m"
    radius: 18
    pattern:
        key:
            X: "BLUE_ICE"
            P: "PACKED_ICE"
            I: "ICE"
        shape:
            - " III "
            - "I P I"
            - "IPXPI"
            - "I P I"
            - " III "
    particles:
        rotation_speed: -1.2 # Quay ngược chiều
        dome_lines: 10
        ring: "SNOWFLAKE"
        dome: "END_ROD"
        pillar: "REVERSE_PORTAL" # Giống sương lạnh
    effects:
        - type: "FREEZE" # Đóng băng nước và lava
        - type: "ROOT"
          target: "HOSTILE_MOBS"
          duration: "2s" # Giữ chân trong 2 giây
          value: 5 # Mức độ làm chậm
        - type: "REPEL"
          value: 0.7 # Đẩy nhẹ ra

loi-nguc-tran:
    display_name: "&e&lThiên Lôi Ngục Trận"
    activation_item: "LIGHTNING_ROD"
    duration: "5m"
    radius: 20
    pattern:
        key:
            X: "LODESTONE"
            P: "IRON_BARS"
            C: "COPPER_BLOCK"
        shape:
            - " P P "
            - "PCXCP"
            - " C C "
            - "PCXCP"
            - " P P "
    particles:
        ring: "ELECTRIC_SPARK"
        dome: "CLOUD"
        pillar: "FIREWORK"
    effects:
        - type: "VORTEX" # Hút quái vào giữa
          target: "HOSTILE_MOBS"
          value: 0.4
        - type: "LIGHTNING" # Đánh sét
          target: "HOSTILE_MOBS"
          visual_only: false # Gây sát thương thật
        - type: "BARRIER" # Giữ quái bên trong
          target: "HOSTILE_MOBS"
          value: 1.0

huyet-te-tran:
    display_name: "&4&lHuyết Tế Trận"
    activation_item: "NETHER_STAR"
    duration: "10m"
    radius: 15
    pattern:
        key:
            X: "RESPAWN_ANCHOR"
            P: "REDSTONE_BLOCK"
            N: "NETHERITE_BLOCK"
        shape:
            - "  P  "
            - " P P "
            - "P X P"
            - " P P "
            - "  N  "
    particles:
        ring: "DAMAGE_INDICATOR"
        orb: "DRIPPING_OBSIDIAN_TEAR"
        dome: "ENCHANTMENT_TABLE"
    effects:
        - type: "DAMAGE" # Gây sát thương liên tục cho quái
          target: "HOSTILE_MOBS"
          value: 2.0 # 1 trái tim mỗi giây
        - type: "COLLECT" # Hút vật phẩm
          value: 0.6
        - type: "XP" # Tạo ra kinh nghiệm từ quái bị giết
          value: 10